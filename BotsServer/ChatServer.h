#pragma once

#include <cstdlib>
#include <deque>
#include <iostream>
#include <list>
#include <memory>
#include <set>
#include <utility>
#include <boost/asio.hpp>

#include "Message.h"
#include "ChatSession.h"
#include "ChatRoom.h"

using boost::asio::ip::tcp;

class ChatServer
{
public:
	ChatServer(boost::asio::io_service& io_service, const tcp::endpoint& endpoint);
	void send_order(Message& msg);
private:
	void do_accept();

	tcp::acceptor acceptor_;
	tcp::socket socket_;
	ChatRoom room_;
};

